values:
  controllers:
    main:
      type: statefulset
      annotations:
        reloader.stakater.com/auto: "true"

      pod:
        priorityClassName: home-cluster-critical

      initContainers:
        - name: set-default-route
          image: alpine:3.20
          securityContext:
            privileged: true
          command:
            - sh
            - -c
            - |
              ip route del default
              ip route add default via 10.20.0.1 dev net1

      containers:
        main:
          image:
            repository: docker.io/pvtom/rscp2mqtt
            tag: v3.38
          envFrom:
            - secretRef:
                name: rscp2mqtt-secret
          probes:
            liveness:
              enabled: true
            readiness:
              enabled: true
            startup:
              enabled: true
              spec:
                failureThreshold: 30
                periodSeconds: 10
          resources:
            requests:
              cpu: 23m
              memory: 300M
            limits:
              memory: 300M
